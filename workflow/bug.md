# Bug处理阶段
此处bug处理特指bug处理流程，不包括bug代码修复。

## 研发周期内BUG
- 测试部进行的前端测试，bug报给前端。测试部进行的api测试，bug报给php
- 测试部发现的bug统一报告给UED主管，由UED主管分发给自己的组员
- 各组员必须定期的、及时的确认自己的bug，确认bug时发现不是自己的bug，加上评论转给对应的bug责任人。前端发现API接口问题转给php的，需要在评论里贴上接口url和请求响应参数。若不知道bug责任人，则加评论转给UED主管。由UED主管找出对应责任人，并转出
- UED主管接收到bug后4小时内必须分发并通知相应组员。UED组员接收到bug后2小时内必须确认，确认是自己的bug，需要加上问题原因。确认后8小时内必须解决，无法解决完的，需要向UED主管给出书面说明。（此处时间为工作时间）
- bug描述里缺少复现必要条件的，加评论说明缺少哪些条件，并转给对应测试。为了效率，也可以不转给测试，而直接找他们补全条件，研发继续问题处理
- 提交BUG时，需要完整给出bug产生的环境，包括但不限于`浏览器`、`API接口`、`页面地址`、`账号密码`、`请求和响应参数`
- bug无法复现的找对应测试帮忙复现，测试也无法复现的则进行代码检查找原因。查代码也无法找到原因的，测试bug则改状态为【不解决】并加评论转给对应测试人员，线上bug则进行组内代码评审找原因。仍然无法找到原因的，则改状态为【延期解决】

- 若bug无法解决（组内沟通评估得出的结论），加标签【不解决】并加评论转给测试经理。Bug无法解决的情况包括：
    - 系统问题
    - 第三方非开源库问题
    - 产品业务上不可避免的问题

- 测试误报的bug，加误报证据后转回给相应测试人员
- 开发过程中bug上报插件自动上传的崩溃bug，研发人员可以直接关闭
- bug解决后，bug处理人员在bug上加评论说明解决方法，前端解决的还需要加解决版本号。
    + 不需要其他人继续处理的，直接修改状态成已解决（bugtags）或打勾（tower），并将bug责任人改为测试部bug报告人。
    + 需要其他人处理的，再将bug转给对应人员
    + 若需要联调bug的情况，前端开发需在备注里面写明
- 重开bug无法清楚评论重开充分条件的，研发加评论明确拒绝重开，并转给测试经理。重开的充分条件有解决版本和复现版本，且复现版本>=解决版本。例如：
    ```
        研发：解决版本132.2
        ...
        测试：132.2上问题依然存在，bug重开。
    ```

- bug处理阶段，每天下班时给测试提交一个新测试包，版本号末位+1。测试部有特殊需求，以具体需求为准。
- bug处理的顺序如下:
    + 无法复现的bug低优先级处理
    + 优先级从高到底
    + 优先级相同时，block测试的流程问题 > 崩溃问题 > 其他问题
    + 前两条相同时，小任务优先原则


## 线上BUG
线上bug接收与处理更具有急迫性，处理上应该做到：

- 测试人员确定bug重现方式，研发复验进行bug复验
- 测试人员通知UED主管安排具体bug处理人
- 研发收到bug反馈后，应该在2小时内确定bug严重级别，分析bug产生原因并确定解决方案
    * 若问题级别为`严重`（影响用户正常使用产品），则优先级为紧急，研发应立即着手处理，
    * 若问题级别为`普通`（不影响用户正常使用产品，包含代码错误、界面优化、性能优化等），研发应先确定优先级后依据优先级（高——>中——>低）进行修复
        - 对于优先级为高的bug，研发应在bug确认后4小时内解决
        - 对于优先级高级以下的bug，研发应在bug确认后8小时内解决
    * 若bug是因为产品原型设计不完整造成的，则需通知产品经理、研发主管、UED主管、测试主管协商决定处理方式

- 线上bug从分发到解决，研发无法按时完成的，需要向UED主管书面说明


- 修复/复测/发布
    + 研发从开发环境仓库staging分支新开分支处理该bug
    + 研发修复好bug，将代码合并到dev分支（若有必要，则切换测试分支到bug处理分支），然后通知相关测试人员进行复测
    + 确认bug依据修复，则将bug分支合并到staging分支，再走正常发布流程发布


## BUG回复规范
- 已解决
    + bug下面回复评论“`已解决，请在xxxx版本进行验证`”
    + 标记bug状态为`已解决`
    + 将bug指派给bug报告人
    + bug报告人验证该bug已经修复，则标记状态为`已关闭`，bug修复完成
    
    ```
        // 示例
        已解决，请在20170531提测版本进行验证
    ```


- 进行中(未使用)

- 重开
    + 对于重开bug，报告人应该先与相关研发确定满足重开条件，然后在该bug下评论回复完整的测试版本、复现条件步骤。然后将bug分到标记`已解决`状态的研发手上


- 暂缓/不解决
    + 对于本次迭代不开发、暂缓开发的功能，研发统一回复“因为xxx原因，该功能、bug暂缓/不解决”，然后将bug指派给对应的产品经理,**研发不能私自更新bug状态为`暂缓`、`不解决`**

    ```
        // 示例
        因为功能调整，商品报表模块功能本次迭代不开发，该bug不解决
    ```
