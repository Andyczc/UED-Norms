# 开发阶段
产品原型与设计稿都评审通过以后，Web前端就实际投入开发。开发指研发人员对软件程序源代码和配置所做的一切修改。

## 分支管理
参考[《UED分支管理规范》](/standard/fe/git.md#13-分支管理)

| 分支名称      |    用途 |
| :--------: | --------|
|   master   | 弃用，仅用作配置README.md | 
|   dev   | 稳定的开发分支，作为本地测试分支 | 
|   staging   | 生产环境分支，新开分支、提测都基于该分支,不允许直接修改该分支代码 | 
|   deploy_fe   | 打包脚本分支,用法是用过脚本自动将staging分支的代码打包成生产环境的代码，并将代码拷贝到生产环境分支代码仓库，然后生成commit，再将生产环境仓库代码提交到远程代码仓库 | 

## 代码仓库管理
web前端产品线众多，且开发环境和生产环境应该分开维护，所以我们代码仓库会分为开发环境仓库和生产环境仓库，生产环境仓库是代码去掉了构建工程且经过了混淆压缩后的代码仓库。UED内部会根据实际情况酌情搭建前端自己的测试服务器。可参考[《UED仓库管理规范》](/standard/fe/git.md#14-仓库管理)


## 接口管理
参照`《研发部接口规范》`，接口开发，接口实现人员要先完成所有接口定义后再开始实现。
- 接口定义以“项目-模块-接口”形式聚合在一起。
    + 每个接口定义必须有请求url、接口描述、完整的请求响应参数，以及每个参数有相应的含义说明，枚举类型的参数需要罗列出所有枚举值以及对应的含义。
    + 有特殊使用方法的也需要一并标记清楚。每个请求响应字段默认都是必填的，若是非必填的，则需要在含义属性里加`【非必填】`标记。

- 接口定义好后，不允许任意修改【二级问题】，修改需要准守如下原则：
    + 接口修改由接口定义人员处理
    + mock字段开放更改
    + 接口未被标记`【已使用】` `【已测试】`，接口实现者可以直接修改
    + 被标记了【已使用】或【已测试】，需要先与所有相关人员沟通一致后修改，改完后发QQ消息通知所有干系人修改结果
    + 征得php组相应人员书面同意后php以外人员可修改相应接口结构，但要遵守上一条规范
    + 接口定义修改必须与实现保持一致

- 接口标注`【已使用】`，需要在接口文档上添加备注，写明“功能模块-使用者”，方便找到当事人
- 修改rap接口时应该在“提交描述”写明`改动内容`、`改动人`、`改动时间`
- 对于接口改动比较大，影响web前端整体架构的情况，需要报备UED主管做统计，后由UED主管告知研发部主管

## 开发规范
- 功能开发必须严格按照原型定义和效果图进行实现，内容参照原型，界面样式参照效果图。bug修复性开发则根据被确认的bug描述进行开发
- 前端开发的每一项功能，必须是自测通过的
- 鼓励开发人员进行代码优化和功能自测
    + 前端优化，必须做好自测和功能周边测试，不能引出新问题
-  Web前端开发使用了接口后，必须立即在RAP上对相应接口加标记`【已使用】`
- 前端进行server api接口对接时，发现实际接口请求或响应参数与RAP定义不一致的
    + 若前端接受更改，则接口实现人员立即更正RAP接口定义，前端同时更正接口使用
    + 若前端不接受更改的，接口实现人员必须按照RAP接口定义更正接口实现，更正完成前，去掉接口上的`【已实现】`标记，直到完成后再加上。
    + 同时，前端使用人员将此问题报告给UED主管做记录，最后统一汇总提给研发部主管

- 在接口对接过程中，前端开发若发现API接口问题，将接口url和请求响应参数一并通过QQ提交给接口实现人进行处理。接口实现人修复了接口问题后，给予前端反馈。
